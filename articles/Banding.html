<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Distance Classification • dynatopGIS</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Distance Classification">
<meta property="og:description" content="dynatopGIS">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dynatopGIS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/dynatopGIS.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Banding.html">Distance Classification</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/waternumbers/dynatopGIS/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Distance Classification</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/waternumbers/dynatopGIS/blob/HEAD/vignettes/Banding.Rmd" class="external-link"><code>vignettes/Banding.Rmd</code></a></small>
      <div class="hidden name"><code>Banding.Rmd</code></div>

    </div>

    
    
<p>This document explains the use of “distance” in the classification of
of the hill slopes into Hydrological Response Units (HRUs). This is a
key difference in the classification and model creation scheme used with
dynatopGIS compared to previous model implementations (e.g. the
dynatopmodel).</p>
<p>As with earlier versions of Dynamic TOPMODEL “physical”
classification of the raster cells representing the hill slopes by
characteristics such as topographic index, soil parameters and rainfall
inputs forms etc. is the basis of determining HRUs. However having the
performed a “physical” classification there is the need to determine the
connectivity of the HRUs and (possibly) the computational sequence for
their solution.</p>
<p>Consider the methods utilised in the <code>dynatopmodel</code>
package which determined the connectivity based on the down slope
contributions of each raster cell in the HRU. This resulted in a matrix
<span class="math inline">\(\mathbf{M)\)</span> of flow fractions such
that if the vector of outflows from the HRUs was <span class="math inline">\(\mathbf{l}_{o}\)</span> the inflows <span class="math inline">\(\mathbf{l}_{i}\)</span> are given by <span class="math display">\[
\mathbf{l}_{i} = \mathbf{M} \mathbf{l}_{o}
\]</span> Determining the down slope contributions in such as fashion
enables a high degree of spatial averaging of the inflow. For example an
area at the bottom of the hillslope near a channel may fall into the
same class as the low gradient area higher up the hillslope, where it
might be reasonable to presume the inflow from adjacent HRUs was much
lower. While such averaging may prove adequate for the hydrological
simulation of the outflow it limits the ability of the model to
represent interventions on a smaller scale (e.g. reforestation of a low
fraction of raster cells; leaky dams limiting slowing the transfer of
surface water)</p>
<p>To address this a “distance” is used to ensure an order to the HRUs.
Currently the code allows for the computation of four distances</p>
<ul>
<li><p><em>Band</em>. A strict sequencing such that all the cells up
slope of a raster cell in band <span class="math inline">\(n\)</span>
are in bands <span class="math inline">\(n+1\)</span> and
greater.</p></li>
<li><p><em>Shortest length</em>. The minimum length to a river channel
through any flow path.</p></li>
<li><p><em>Dominant length</em>. The length to a river channel following
the flow direction with the highest fraction for each pixel on the
path.</p></li>
<li><p><em>Expected length</em>. The length to a river channel based on
the sum of down slope flow weighted by the fraction of flow to each
cell.</p></li>
</ul>
<p>The “distance” can be used in two ways. Optionally it can be used
within the classification of the HRUs thereby providing spatially
ordered HRUs. A “distance” is also used in the determining the
connectivity. Each HRU is assigned a single distance based on the raster
cells within it that are closest to the river. The flow directions from
these cells are then used to determine the down slope contributions;
which go to HRUs assigned a shorter distance.</p>
<blockquote>
<p>Although this technique is fairly generic it is strongly suggested
that the band distance is used, both in classification and model
generation.</p>
</blockquote>
<p>In handling the flow contributions this way we ensure a computational
sequence for the HRUs is established (that is <span class="math inline">\(\mathbf{M}\)</span> is triangular) which is
required for the computational scheme used within the associated dynatop
package.</p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Paul Smith.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
